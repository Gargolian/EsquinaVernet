<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/estilo.css">
    <title>Contacto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
</head>
<body>
    <section class="d-flex justify-content-center align-items-center">

        <div class="card shadow col-xs-12 col-sm-6 col-md-6 col-lg-4   p-4">
            <div class="mb-4 d-flex justify-content-start align-items-center">
                <h4><i class="bi bi-chat-left-quote"></i> &nbsp;Contacto</h4>
            </div>
            
            <div class="mb-1">

                <form id="form" action="https://formspree.io/f/xzbqwkvn" method="POST">

                        <div class="mb-4">
                            <label for="nombre"><i class="bi bi-person-fill"></i> Nombre</label>
                            <input type="text" class="form-control" name="nombre" id="nombre" placeholder="Su Nombre">
                            <div class="nombre text-danger "></div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="apellido"><i class="bi bi-person-bounding-box"></i> Apellido</label>
                            <input type="text" class="form-control" name="apellido" id="apellido" placeholder="Su Apellido">
                            <div class="apellido text-danger"></div>
                        </div>

                        
                        <div class="mb-4">
                            <label for="correo"><i class="bi bi-envelope-fill"></i> Correo</label>
                            <input type="email" class="form-control" name="email" id="email" placeholder="Su su@correo.com">
                            <div class="correo text-danger"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="mensaje"><i class="bi bi-chat-right-dots-fill" required></i> Mensaje</label>
                            <textarea type="text" class="form-control" name="mensaje" id="mensaje" placeholder="Escriba su mensaje"></textarea>
                            <div class="mensaje text-danger"></div>
                        </div>

                        <div class="mb-2">
                            <button type="submit" id ="botton" class="col-4 btn btn-primary d-flex justify-content-center ">
                                <span>Enviar </span><i id="icono" class="bi bi-cursor-fill "></i>
                            </button>
                        </div>
                </form>
            </div>
        </div>

    </section>

    <script>
        //asignamos el evento listerner al boton enviar del formulario
        const $form = document.querySelector('#form')

        $form.addEventListener('submit',enviar)//al ejecutar el evento llamamos a la funcion enviar

        //la funcion va a esperar la respuesta de la api para enviar el mensaje alert
        async function enviar(event){
           event.preventDefault()
           const form = new FormData(this)
           const response = await fetch(this.action,{
            method: this.method,
            body : form,
            headers : {
                'Accept':'application/json'
            }
           })
           if (response.ok){
            this.reset()
            alert('Gracias por contactarnos, te escribiremos a la brevedad')
            
           }
        }
        
    </script>

</body>
</html>
